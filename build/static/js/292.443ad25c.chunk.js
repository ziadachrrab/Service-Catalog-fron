"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[292],{292:function(e,n,r){r.r(n),r.d(n,{CreateNewAccountModal:function(){return O}});var t=r(4942),s=r(1413),c=r(93433),a=r(74165),o=r(15861),i=r(29439),l=r(72791),u=r(28620),d=r(8007),h=r(64554),x=r(3768),f=r(13400),p=r(36151),m=r(5289),Z=r(65661),v=r(39157),y=r(1582),j=r(68096),b=r(94925),g=r(99321),w=r(84638),C=r(48550),k=r(47071),N=r(97123),K=r(78983),S=r(38820),E=r(5397),T=r(80184),O=function(e){var n=e.open,r=e.columns,c=e.onClose,u=e.onSubmit,d=(0,l.useState)((function(){return r.reduce((function(e,n){var r;return e[null!==(r=n.accessorKey)&&void 0!==r?r:""]="",e}),{})})),h=(0,i.Z)(d,2),x=h[0],f=h[1],S=(0,l.useState)(!1),E=(0,i.Z)(S,2),O=E[0],_=E[1],A=(0,l.useState)(!1),P=(0,i.Z)(A,2),z=P[0],D=P[1],F=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},r.forEach((function(e){"id"===e.accessorKey||x[e.accessorKey]?"contact"!==e.accessorKey||/^\d{10}$/.test(x[e.accessorKey])?["contact"].includes(e.accessorKey)&&isNaN(Number(x[e.accessorKey]))?n[e.accessorKey]="Must be a number":["name","location"].includes(e.accessorKey)&&!/^[A-Za-z0-9- ]+$/.test(x[e.accessorKey])&&(n[e.accessorKey]="Must contain only letters and spaces"):n[e.accessorKey]="Must contain exactly 10 numbers":n[e.accessorKey]="Field required"})),L(n),0!==Object.keys(n).length){e.next=11;break}return e.next=6,u(x);case 6:c(),_(!0),f(r.reduce((function(e,n){var r;return e[null!==(r=n.accessorKey)&&void 0!==r?r:""]="",e}),{})),e.next=12;break;case 11:D(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=(0,l.useState)({}),M=(0,i.Z)(I,2),q=M[0],L=M[1];return(0,T.jsxs)(T.Fragment,{children:[O&&(0,T.jsx)(K.oo,{autohide:!0,visible:!0,color:"success",className:"text-white align-items-center",style:{position:"fixed",right:"20px",top:"70px",zIndex:"10000"},onClose:function(){_(!1)},children:(0,T.jsxs)("div",{className:"d-flex",children:[(0,T.jsx)(K.S3,{children:"Data submitted successfully."}),(0,T.jsx)(K.Pv,{className:"me-2 m-auto",white:!0})]})}),z&&(0,T.jsx)(K.oo,{autohide:!0,visible:!0,className:"text-white align-items-center",style:{position:"fixed",right:"20px",top:"70px",zIndex:"10000"},color:"danger",onClose:function(){D(!1)},children:(0,T.jsxs)("div",{className:"d-flex",children:[(0,T.jsx)(K.S3,{children:"Please fix all the errors"}),(0,T.jsx)(K.Pv,{className:"me-2 m-auto",white:!0})]})}),(0,T.jsxs)(m.Z,{open:n,children:[(0,T.jsx)(Z.Z,{textAlign:"center",children:"Create New Brand"}),(0,T.jsx)(v.Z,{children:(0,T.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,T.jsx)(y.Z,{sx:{width:"100%",minWidth:{xs:"300px",sm:"360px",md:"400px"},gap:"1.5rem"},children:r.filter((function(e){return"id"!==e.accessorKey})).map((function(e){return(0,T.jsxs)(j.Z,{error:!!q[e.accessorKey],children:["condition"===e.accessorKey?(0,T.jsxs)(j.Z,{fullWidth:!0,children:[(0,T.jsx)(b.Z,{children:"SELECT CONDITION"}),(0,T.jsxs)(g.Z,{value:x[e.accessorKey],onChange:function(n){return f((0,s.Z)((0,s.Z)({},x),{},(0,t.Z)({},e.accessorKey,n.target.value)))},fullWidth:!0,children:[(0,T.jsx)(w.Z,{value:"",children:"Select Condition"}),(0,T.jsx)(w.Z,{value:"New",children:"New"}),(0,T.jsx)(w.Z,{value:"Used - Like New",children:"Used - Like New"}),(0,T.jsx)(w.Z,{value:"Used",children:"Used"})]})]}):"warranty"===e.accessorKey?(0,T.jsxs)(j.Z,{fullWidth:!0,children:[(0,T.jsx)(b.Z,{children:"SELECT WARRANTY"}),(0,T.jsxs)(g.Z,{value:x[e.accessorKey],onChange:function(n){return f((0,s.Z)((0,s.Z)({},x),{},(0,t.Z)({},e.accessorKey,n.target.value)))},fullWidth:!0,children:[(0,T.jsx)(w.Z,{value:"",children:"Select Warranty"}),(0,T.jsx)(w.Z,{value:1,children:"1 Year"}),(0,T.jsx)(w.Z,{value:2,children:"2 Years"}),(0,T.jsx)(w.Z,{value:3,children:"3 Years"})]})]}):(0,T.jsx)(C.Z,{label:e.header,name:e.accessorKey,type:"number"===e.type?"number":"text",value:x[e.accessorKey],onChange:function(e){return f((0,s.Z)((0,s.Z)({},x),{},(0,t.Z)({},e.target.name,e.target.value)))}}),q[e.accessorKey]&&(0,T.jsx)(k.Z,{children:q[e.accessorKey]})]},e.accessorKey)}))})})}),(0,T.jsxs)(N.Z,{sx:{p:"1.25rem"},children:[(0,T.jsx)(p.Z,{onClick:c,children:"Cancel"}),(0,T.jsx)(p.Z,{color:"info",onClick:F,variant:"contained",children:"Create"})]})]})]})},_=function(e){return!!e.length},A=function(e){return!!e.length&&e.toLowerCase().match(/^(([^<>()[\]\\.,:\s@"]+(\.[^<>()[\]\\.,:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},P=function(e){return e>=18&&e<=50};n.default=function(){var e=(0,l.useState)(!1),n=(0,i.Z)(e,2),r=n[0],m=n[1],Z=(0,l.useState)([]),v=(0,i.Z)(Z,2),y=v[0],j=v[1],b=(0,l.useState)({}),g=(0,i.Z)(b,2),w=g[0],C=g[1],k=(0,l.useState)(!1),N=(0,i.Z)(k,2),z=N[0],D=N[1],F=(0,l.useState)(!1),I=(0,i.Z)(F,2),M=I[0],q=I[1],L=(0,l.useCallback)((0,o.Z)((0,a.Z)().mark((function e(){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8080/brands/all",{method:"GET"});case 3:if(!(n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:r=e.sent,j(r),e.next=12;break;case 11:console.error("Failed to fetch data from the Oracle database");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error occurred while fetching data:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[]);(0,l.useEffect)((function(){L()}),[L]);var R=d.Ry().shape({name:d.Z_().required("Name is required"),contact:d.Z_().required("Contact is required"),location:d.Z_().required("Location is required")}),W=(0,l.useState)(!1),B=(0,i.Z)(W,1)[0],U=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var r,t,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.validate(n,{abortEarly:!1});case 3:return e.next=5,fetch("http://localhost:8080/brands/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:if(!(r=e.sent).ok){e.next=17;break}return e.next=9,r.text();case 9:t=e.sent,s=t?JSON.parse(t):{},o=[].concat((0,c.Z)(y),[s]),j(o),m(!1),L(),e.next=19;break;case 17:console.error("4444444444"),B(!0);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("Error occurred while creating a new row:",e.t0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(n){return e.apply(this,arguments)}}(),Y=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var r,t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.exitEditingMode,t=n.row,s=n.values,Object.keys(w).length){e.next=12;break}return e.prev=2,e.next=5,fetch("http://localhost:8080/brands/update/".concat(t.original.name),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 5:e.sent.ok?(y[t.index]=s,j((0,c.Z)(y)),r(),q(!0)):console.error("Failed to save row edits"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error occurred while saving row edits:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),J=(0,l.useState)(null),$=(0,i.Z)(J,2),G=$[0],H=$[1],Q=(0,l.useState)(!1),V=(0,i.Z)(Q,2),X=V[0],ee=V[1],ne=(0,l.useCallback)((0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=11;break}return e.prev=1,e.next=4,fetch("http://localhost:8080/brands/delete/".concat(G.original.name),{method:"DELETE"});case 4:e.sent.ok?(y.splice(G.index,1),j((0,c.Z)(y)),re(),ee(!1)):console.error("Failed to delete a row"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error occurred while deleting a row:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[G,y]),re=function(){D(!0)},te=function(){D(!1)},se=(0,l.useCallback)((function(e){return{error:!!w[e.id],helperText:w[e.id],onBlur:function(n){("email"===e.column.id?A(n.target.value):"age"===e.column.id?P(+n.target.value):_(n.target.value))?(delete w[e.id],C((0,s.Z)({},w))):C((0,s.Z)((0,s.Z)({},w),{},(0,t.Z)({},e.id,"".concat(e.column.columnDef.header," is required"))))}}}),[w]),ce=(0,l.useMemo)((function(){return[{accessorKey:"id",header:"ID",enableColumnOrdering:!0,enableEditing:!1,enableSorting:!0,size:80},{accessorKey:"name",header:"NAME",size:140,muiTableBodyCellEditTextFieldProps:function(e){var n=e.cell;return(0,s.Z)((0,s.Z)({},se(n)),{},{type:"string"})}},{accessorKey:"location",header:"LOCATION",size:140,muiTableBodyCellEditTextFieldProps:function(e){var n=e.cell;return(0,s.Z)((0,s.Z)({},se(n)),{},{type:"string"})}},{accessorKey:"contact",header:"CONTACT",muiTableBodyCellEditTextFieldProps:function(e){var n=e.cell;return(0,s.Z)((0,s.Z)({},se(n)),{},{type:"number"})}}]}),[se]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(K.oo,{autohide:!0,visible:z,color:"success",className:"text-white align-items-center",style:{position:"fixed",right:"20px",top:"70px",zIndex:"10000"},onClose:te,children:(0,T.jsxs)("div",{className:"d-flex",children:[(0,T.jsx)(K.S3,{children:"Row deleted successfully!"}),(0,T.jsx)(K.Pv,{className:"me-2 m-auto",onClick:te})]})}),M&&(0,T.jsx)(K.oo,{autohide:!0,visible:!0,color:"success",className:"text-white align-items-center",style:{position:"fixed",right:"20px",top:"70px",zIndex:"10000"},onClose:function(){q(!1)},children:(0,T.jsxs)("div",{className:"d-flex",children:[(0,T.jsx)(K.S3,{children:"Data submitted successfully."}),(0,T.jsx)(K.Pv,{className:"me-2 m-auto",white:!0})]})}),(0,T.jsx)(u.ZP,{displayColumnDefOptions:{"mrt-row-actions":{muiTableHeadCellProps:{align:"center"},size:70}},columns:ce,data:y,editingMode:"modal",enableColumnOrdering:!0,enableEditing:!0,onEditingRowSave:Y,onEditingRowCancel:function(){C({})},renderRowActions:function(e){var n=e.row,r=e.table;return(0,T.jsxs)(h.Z,{sx:{display:"flex",gap:"1rem",justifyContent:"center"},children:[(0,T.jsx)(x.Z,{arrow:!0,placement:"bottom",title:"Edit",children:(0,T.jsx)(f.Z,{onClick:function(){return r.setEditingRow(n)},children:(0,T.jsx)(S.Z,{})})}),(0,T.jsx)(x.Z,{arrow:!0,placement:"bottom",title:"Delete",children:(0,T.jsx)(f.Z,{color:"error",onClick:function(){H(n),ee(!0)},children:(0,T.jsx)(E.Z,{})})})]})},renderTopToolbarCustomActions:function(){return(0,T.jsx)(p.Z,{color:"info",onClick:function(){return m(!0)},variant:"contained",children:"Create New Brand"})}}),(0,T.jsx)(O,{columns:ce,open:r,onClose:function(){return m(!1)},onSubmit:U}),(0,T.jsxs)(K.Tk,{backdrop:"static",visible:X,onClose:function(){return ee(!1)},children:[(0,T.jsx)(K.p0,{children:(0,T.jsx)(K.fl,{children:"Modal title"})}),(0,T.jsx)(K.sD,{children:"I will not close if you click outside my."}),(0,T.jsxs)(K.Ym,{children:[(0,T.jsx)(K.u5,{color:"secondary",onClick:function(){return ee(!1)},children:"Close"}),(0,T.jsx)(K.u5,{color:"primary",onClick:ne,children:"Save changes"})]})]})]})}}}]);
//# sourceMappingURL=292.443ad25c.chunk.js.map